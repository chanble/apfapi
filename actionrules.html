<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=us-ascii"><title>Cloud9 API | C9 Developer</title><link href="csses/bootstrap.min.css" rel="stylesheet" type="text/css"><link rel="stylesheet" href="csses/font-awesome.css"><link href="csses/docs.css" rel="stylesheet" type="text/css"><link rel="stylesheet" href="csses/default.min.css"><link href="csses/inconsolata.css" rel="stylesheet" type="text/css"><script src="javascripts/jquery.min.js"></script><link type="text/css" rel="stylesheet" href="csses/developer.css"><script src="javascripts/bootstrap-transition.js"></script><link type='text/css' rel='stylesheet' href='csses/refguide_overrides.css' /><link type='text/css' rel='stylesheet' href='csses/api.css' /><script type='text/javascript' src='http://static.railstips.org/orderedlist/demos/quicksilverjs/javascripts/quicksilver.js'></script><script src='javascripts/bootstrap-tab.js'></script><script src='javascripts/jquery.livesearch.js'></script><script type='text/javascript' src='javascripts/clicker.js'></script><script type='text/javascript' src='javascripts/api.js'></script><script type='text/javascript' src='javascripts/jquery.cookie.js'></script></head><body data-spy="scroll" data-target=".tocContainer"><div id="topbar" class=""><a id="headerlink" href="/"><img src="img/c9devlogosmaller.png" /> <img src="img/c9developer_logo_text.png" width="90" alt="Developer" /></a><div class="toplink"><a href="/start">Start</a></div><div class="toplink"><a href="/guides/index.html">Dev Guides</a></div><div class="toplink active"><a href="/api/index.html">API</a></div><div class="toplink"><a href="/visual/index.html">Visual</a></div><div class="toplink"><a href="/sandbox">Sandbox</a></div><div class="toplink"><a href="/edit-in-cloud9-button">Edit in Cloud9</a></div></div><div id="main_container"><!DOCTYPE html><!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]> <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]> <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]--><html xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Cloud9 API Documentation - Action Rules</title><meta name="generator" content="panino-doc-build"><meta name="author" content="Garen J. Torikian"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="csses/bootstrap.min.css"><link rel="stylesheet" href="csses/prettify.css"><link rel="stylesheet" href="csses/refguide_overrides.css"><link href="images/favicon.ico" rel="icon" type="image/x-icon"><link type="text/css" rel="stylesheet" href="//yandex.st/highlightjs/6.1/styles/vs.min.css"><script src="javascripts/jquery.js"></script><script src="javascripts/clicker.js"></script><script src="javascripts/jquery.collapse.js"></script><script src="javascripts/jquery.cookie.js"></script><script src="javascripts/bootstrap-dropdown.js"></script><script src="javascripts/bootstrap-tab.js"></script><script src="javascripts/jquery-scrollspy.js"></script></head><body><div class="container"><div id="sidebarContainer" class="span3"><div id="sidebar"><input id="live_search_toc"><p id="no_search_results"><span class="number_circle">!</span> No search results</p><h3>Containers<ul class="menu"><li class="menu-item"><a href = 'bar.html' classes='container'>apf.bar</a></li><li class="menu-item"><a href = 'frame.html' classes='container'>apf.frame</a></li><li class="menu-item"><a href = 'modalwindow.html' classes='container'>apf.modalwindow</a></li><li class="menu-item"><a href = 'page.html' classes='container'>apf.page</a></li><li class="menu-item"><a href = 'tab.html' classes='container'>apf.tab</a></li><li class="menu-item"><a href = 'table.html' classes='container'>apf.table</a></li><li class="menu-item"><a href = 'toolbar.html' classes='container'>apf.toolbar</a></li></ul></h3><h3>Form<ul class="menu"><li class="menu-item"><a href = 'button.html' classes='form'>apf.button</a></li><li class="menu-item"><a href = 'checkbox.html' classes='form'>apf.checkbox</a></li><li class="menu-item"><a href = 'dropdown.html' classes='form'>apf.dropdown</a></li><li class="menu-item"><a href = 'label.html' classes='form'>apf.label</a></li><li class="menu-item"><a href = 'progress.html' classes='form'>apf.progress</a></li><li class="menu-item"><a href = 'radiobutton.html' classes='form'>apf.radiobutton</a></li><li class="menu-item"><a href = 'spinner.html' classes='form'>apf.spinner</a></li><li class="menu-item"><a href = 'text.html' classes='form'>apf.text</a></li><li class="menu-item"><a href = 'textbox.html' classes='form'>apf.textbox</a></li></ul></h3><h3>Layout<ul class="menu"><li class="menu-item"><a href = 'hbox.html' classes='layout'>apf.hbox</a></li><li class="menu-item"><a href = 'hsplitbox.html' classes='layout'>apf.hsplitbox</a></li><li class="menu-item"><a href = 'skin.html' classes='layout'>apf.skin</a></li><li class="menu-item"><a href = 'vbox.html' classes='layout'>apf.vbox</a></li><li class="menu-item"><a href = 'vsplitbox.html' classes='layout'>apf.vsplitbox</a></li></ul></h3><h3>Selection<ul class="menu"><li class="menu-item"><a href = 'contextmenu.html' classes='selection'>apf.contextmenu</a></li><li class="menu-item"><a href = 'datagrid.html' classes='selection'>apf.datagrid</a></li><li class="menu-item"><a href = 'item.html' classes='selection'>apf.item</a></li><li class="menu-item"><a href = 'list.html' classes='selection'>apf.list</a></li><li class="menu-item"><a href = 'menu.html' classes='selection'>apf.menu</a></li><li class="menu-item"><a href = 'tree.html' classes='selection'>apf.tree</a></li></ul></h3><h3>Logic<ul class="menu"><li class="menu-item"><a href = 'actions.html' classes='logic'>apf.actions</a></li><li class="menu-item"><a href = 'actiontracker.html' classes='logic'>apf.actiontracker</a></li><li class="menu-item"><a href = 'appsettings.html' classes='logic'>apf.appsettings</a></li><li class="menu-item"><a href = 'model.html' classes='logic'>apf.model</a></li><li class="menu-item"><a href = 'script.html' classes='logic'>apf.script</a></li><li class="menu-item"><a href = 'state.html' classes='logic'>apf.state</a></li><li class="menu-item"><a href = 'stateGroup.html' classes='logic'>apf.stateGroup</a></li></ul></h3><h3>Media<ul class="menu"><li class="menu-item"><a href = 'img.html' classes='media'>apf.img</a></li><li class="menu-item"><a href = 'notifier.html' classes='media'>apf.notifier</a></li></ul></h3><h3>Parsing<ul class="menu"><li class="menu-item"><a href = 'url.html' classes='parser'>apf.url</a></li></ul></h3><h3>Base Classes<ul class="menu"><li class="menu-item"><a href = 'AmlElement.html' classes='baseclass'>apf.AmlElement</a></li><li class="menu-item"><a href = 'AmlNode.html' classes='baseclass'>apf.AmlNode</a></li><li class="menu-item"><a href = 'Anchoring.html' classes='baseclass'>apf.Anchoring</a></li><li class="menu-item"><a href = 'BaseButton.html' classes='baseclass'>apf.BaseButton</a></li><li class="menu-item"><a href = 'BaseList.html' classes='baseclass'>apf.BaseList</a></li><li class="menu-item"><a href = 'BaseSimple.html' classes='baseclass'>apf.BaseSimple</a></li><li class="menu-item"><a href = 'BaseStateButtons.html' classes='baseclass'>apf.BaseStateButtons</a></li><li class="menu-item"><a href = 'BaseTab.html' classes='baseclass'>apf.BaseTab</a></li><li class="menu-item"><a href = 'BaseTree.html' classes='baseclass'>apf.BaseTree</a></li><li class="menu-item"><a href = 'BindingRule.html' classes='baseclass'>apf.BindingRule</a></li><li class="menu-item"><a href = 'Cache.html' classes='baseclass'>apf.Cache</a></li><li class="menu-item"><a href = 'Class.html' classes='baseclass'>apf.Class</a></li><li class="menu-item"><a href = 'DataBinding.html' classes='baseclass'>apf.DataBinding</a></li><li class="menu-item"><a href = 'DelayedRender.html' classes='baseclass'>apf.DelayedRender</a></li><li class="menu-item"><a href = 'DragDrop.html' classes='baseclass'>apf.DragDrop</a></li><li class="menu-item"><a href = 'Focussable.html' classes='baseclass'>apf.Focussable</a></li><li class="menu-item"><a href = 'GuiElement.html' classes='baseclass'>apf.GuiElement</a></li><li class="menu-item"><a href = 'Interactive.html' classes='baseclass'>apf.Interactive</a></li><li class="menu-item"><a href = 'MultiCheck.html' classes='baseclass'>apf.MultiCheck</a></li><li class="menu-item"><a href = 'MultiSelect.html' classes='baseclass'>apf.MultiSelect</a></li><li class="menu-item"><a href = 'MultiselectBinding.html' classes='baseclass'>apf.MultiselectBinding</a></li><li class="menu-item"><a href = 'Presentation.html' classes='baseclass'>apf.Presentation</a></li><li class="menu-item"><a href = 'Rename.html' classes='baseclass'>apf.Rename</a></li><li class="menu-item"><a href = 'Validation.html' classes='baseclass'>apf.Validation</a></li></ul></h3><h3>Terms<ul class="menu"><li><a href="./actionrules.html">Action Rules</a></li><li><a href="./baseclass.html">  Base Classes</a></li><li><a href="./bindingrules.html">Binding Rules</a></li><li><a href="./caret.html">Caret</a></li><li><a href="./datainstruction.html">Data Instructions</a></li><li><a href="./datanode.html">Data Node</a></li><li><a href="./eachnode.html">Each Node</a></li><li><a href="./livemarkup.html">Live Markup</a></li><li><a href="./locking.html">Locking</a></li><li><a href="./propertybinding.html">Property Binding</a></li><li><a href="./smartbinding.html">Smart Binding</a></li></ul></h3></div></div><div id="mainContent" class="span9"><div id="documentation"><div class="title"><h1 class="pageTitle">Action Rules</h1></div><div><p>Action rules determine whether a user can execute an action and
takes care of executing the change both locally and on a remote server. Each
triggered action creates an item on the undo stack.
Action rules are part of the <a href="./smartbinding.html">smartbinding concept</a>.</p>
<h2 id='syntax'><a class='heading_anchor' href='#syntax'><i class='headerLinkIcon'></i></a>Syntax</h2>
<p>Actions are added to <a href="./actions.html"><code>apf.actions</code></a>. The <code>select</code> attribute specifies
whether an action can be executed. The <code>set</code> attribute specifies how the change
to the data is send to the server. The following example shows a remove
action on a datagrid. A jsp script is called to process the change. This is
specified using a <a href="./datainstruction.html">data instruction</a>.</p>
<pre><code class="language-xml"> <span class="tag">&lt;<span class="title">a:datagrid</span>></span>
     <span class="tag">&lt;<span class="title">a:actions</span>></span>
         <span class="tag">&lt;<span class="title">a:remove</span>
           <span class="attribute">match</span> = "[<span class="attribute">contact</span>[<span class="attribute">not</span>(@<span class="attribute">readonly</span>)]]"
           <span class="attribute">set</span>   = "<span class="attribute">php</span>/<span class="attribute">remove_contact.php</span>?<span class="attribute">id</span>=<span class="value">[@id]"</span> /></span>
     <span class="tag">&lt;/<span class="title">a:actions</span>></span>
 <span class="tag">&lt;/<span class="title">a:datagrid</span>></span></code></pre>
<h2 id='defaults'><a class='heading_anchor' href='#defaults'><i class='headerLinkIcon'></i></a>Defaults</h2>
<p>The default behaviour for all components is to enable all actions when no
actions element has been assigned. This can be change by setting the appsettings to <code>auto-disable-actions</code>. When an actions
element <em>is</em> assigned, all actions are disabled unless they are specified.
When the select attribute on an action is not set the action will always be
allowed. </p>
<h2 id='flow:'><a class='heading_anchor' href='#flow:'><i class='headerLinkIcon'></i></a>Flow:</h2>
<p>Action rules influence and trigger several parts of the user interaction. </p>
<ol>
<li>It determines whether a user action can be executed on the bound and/or
  selected <a href="./datanode.html">data node</a></li>
<li>It dispatches events, before and after the data is changed.</li>
<li>It creates a <a href="http://en.wikipedia.org/wiki/Command_pattern">command object</a>
  that is pushed on the undo stack of the <code>apf.actiontracker</code>
  connected to the element that triggered the action.</li>
<li>The command object (<code>apf.UndoData</code>) contains all the
  information to send the change back to the server.</li>
</ol>
<h2 id='fallbacks:'><a class='heading_anchor' href='#fallbacks:'><i class='headerLinkIcon'></i></a>Fallbacks:</h2>
<p>By stacking multiple action rules it&#39;s possible to define different ways to
deal with user actions. Let&#39;s say we have a tree that displays
files and folders. Renaming a file and a folder might have different handlers.
This would be encoded like this:</p>
<pre><code class="language-xml"> <span class="tag">&lt;<span class="title">a:tree</span>
   <span class="attribute">id</span>             = "<span class="attribute">tree</span>"
   <span class="attribute">height</span>         = "<span class="attribute">200</span>"
   <span class="attribute">width</span>          = "<span class="attribute">250</span>"
   <span class="attribute">model</span>          = "<span class="attribute">filesystem.xml</span>"
   <span class="attribute">actiontracker</span>  = "<span class="attribute">atExample</span>"
   <span class="attribute">startcollapsed</span> = "<span class="attribute">false</span>"
   <span class="attribute">onerror</span>        = "<span class="attribute">alert</span>('<span class="attribute">Sorry</span> <span class="attribute">this</span> <span class="attribute">action</span> <span class="attribute">is</span> <span class="attribute">not</span> <span class="attribute">permitted</span>');<span class="attribute">return</span> <span class="attribute">false</span>"></span>
     <span class="tag">&lt;<span class="title">a:each</span> <span class="attribute">match</span>=<span class="value">"[folder|drive]"</span>></span>
         <span class="tag">&lt;<span class="title">a:caption</span> <span class="attribute">match</span>=<span class="value">"[@caption]"</span> /></span>
         <span class="tag">&lt;<span class="title">a:icon</span> <span class="attribute">value</span>=<span class="value">"Famfolder.gif"</span> /></span>
     <span class="tag">&lt;/<span class="title">a:each</span>></span>
     <span class="tag">&lt;<span class="title">a:rename</span> <span class="attribute">match</span> = "[<span class="attribute">file</span>]"
               <span class="attribute">set</span>    = "<span class="attribute">rename_folder.php</span>?<span class="attribute">id</span>=<span class="value">[@fid]"</span> /></span>
     <span class="tag">&lt;<span class="title">a:rename</span> <span class="attribute">match</span> = "[<span class="attribute">folder</span>]"
               <span class="attribute">set</span>    = "<span class="attribute">rename_file.php</span>?<span class="attribute">id</span>=<span class="value">[@fid]"</span> /></span>
<span class="tag">&lt;/<span class="title">a:tree</span>></span>

<span class="tag">&lt;<span class="title">a:button</span>
  <span class="attribute">caption</span> = "<span class="attribute">Rename</span>"
  <span class="attribute">right</span>   = "<span class="attribute">10</span>"
  <span class="attribute">top</span>     = "<span class="attribute">10</span>"
  <span class="attribute">onclick</span> = "<span class="attribute">tree.startRename</span>()" /></span>
<span class="tag">&lt;<span class="title">a:button</span> <span class="attribute">onclick</span>=<span class="value">"tree.getActionTracker().undo();"</span>></span>Undo<span class="tag">&lt;/<span class="title">a:button</span>></span></code></pre>
<h2 id='undo'><a class='heading_anchor' href='#undo'><i class='headerLinkIcon'></i></a>Undo</h2>
<p>When an action is execute it creates an entry on the undostack of an
actiontracker. Undo can be triggered by calling the undo method.</p>
<pre><code class="language-javascript"> myTree.getActionTracker().undo();
 <span class="comment">//or</span>
 ActionTracker.undo();</code></pre>
<p>Executing will revert the change to the data. This will also be communicated
to the server. In some cases the call to the server is not symmetric; the set
call cannot be used to revert. For these situations set the undo attribute.</p>
<pre><code class="language-xml"> <span class="tag">&lt;<span class="title">a:tree</span> <span class="attribute">id</span>=<span class="value">"tree"</span> <span class="attribute">height</span>=<span class="value">"200"</span> <span class="attribute">width</span>=<span class="value">"250"</span>
   <span class="attribute">model</span>          = "<span class="attribute">filesystem.xml</span>"
   <span class="attribute">actiontracker</span>  = "<span class="attribute">atExample</span>"
   <span class="attribute">startcollapsed</span> = "<span class="attribute">false</span>"
   <span class="attribute">onerror</span>        = "<span class="attribute">alert</span>('<span class="attribute">Sorry</span> <span class="attribute">this</span> <span class="attribute">action</span> <span class="attribute">is</span> <span class="attribute">not</span> <span class="attribute">permitted</span>');<span class="attribute">return</span> <span class="attribute">false</span>"></span>
     <span class="tag">&lt;<span class="title">a:each</span> <span class="attribute">match</span>=<span class="value">"[folder|drive]"</span>></span>
         <span class="tag">&lt;<span class="title">a:caption</span> <span class="attribute">match</span>=<span class="value">"[@caption]"</span> /></span>
         <span class="tag">&lt;<span class="title">a:icon</span> <span class="attribute">value</span>=<span class="value">"Famfolder.gif"</span> /></span>
     <span class="tag">&lt;/<span class="title">a:each</span>></span>
     <span class="tag">&lt;<span class="title">a:remove</span> <span class="attribute">set</span>  = "<span class="attribute">remove.php</span>?<span class="attribute">id</span>=<span class="value">[@fid]"</span>
               <span class="attribute">undo</span> = "<span class="attribute">undo_remove.php</span>?<span class="attribute">id</span>=<span class="value">[@fid]"</span>></span>
     <span class="tag">&lt;/<span class="title">a:remove</span>></span>
 <span class="tag">&lt;/<span class="title">a:tree</span>></span>
 <span class="tag">&lt;<span class="title">a:button</span> <span class="attribute">onclick</span>=<span class="value">"tree.getActionTracker().undo();"</span>></span>Undo<span class="tag">&lt;/<span class="title">a:button</span>></span>
 <span class="tag">&lt;<span class="title">a:button</span> <span class="attribute">onclick</span>=<span class="value">"tree.remove();"</span>></span>Remove<span class="tag">&lt;/<span class="title">a:button</span>></span></code></pre>
<p>In the example above the server is required to support reverting remove.
Another possibility is to add the item again as shown in this example:</p>
<pre><code class="language-xml"> <span class="tag">&lt;<span class="title">a:remove</span> <span class="attribute">set</span>  = "<span class="attribute">remove.php</span>?<span class="attribute">id</span>=<span class="value">[@id]"</span>
           <span class="attribute">undo</span> = "<span class="attribute">add.php</span>?<span class="attribute">xml</span>=<span class="value">[.]"</span>></span>
 <span class="tag">&lt;/<span class="title">a:remove</span>></span></code></pre>
<h2 id='javascript'><a class='heading_anchor' href='#javascript'><i class='headerLinkIcon'></i></a>Javascript</h2>
<p>Each action has a method associated with it that exists on the element that
the action rule is assigned to. The method has the same name as the action
and can be called from javascript:</p>
<pre><code class="language-javascript"> myTree.remove();
 myTree.remove(dataNode);</code></pre>
<h2 id='add'><a class='heading_anchor' href='#add'><i class='headerLinkIcon'></i></a>Add</h2>
<p>Adding <a href="./datanode.html">data nodes</a> to an element is a bit more advanced because the origin of
the new data can be encoded in the add action rule. </p>
<p>There are three ways to provide the data to add a node. </p>
<p>The first is by calling the <code>add</code> method using Javascript.</p>
<pre><code class="language-xml"> <span class="tag">&lt;<span class="title">a:list</span> <span class="attribute">id</span>=<span class="value">"myList"</span>></span>
     <span class="tag">&lt;<span class="title">a:add</span> <span class="attribute">set</span>=<span class="value">"{comm.addProduct([.])}"</span> /></span>
 <span class="tag">&lt;/<span class="title">a:list</span>></span>
 <span class="tag">&lt;<span class="title">a:script</span>></span>
     myList.add('<span class="tag">&lt;<span class="title">product</span> <span class="attribute">name</span>=<span class="value">"USB drive"</span> <span class="attribute">type</span>=<span class="value">"storage"</span> /></span>');
 <span class="tag">&lt;/<span class="title">a:script</span>></span></code></pre>
<p>The second is by specifying the template as a child of the add action rule:</p>
<pre><code class="language-xml"> <span class="tag">&lt;<span class="title">a:add</span> <span class="attribute">set</span>=<span class="value">"{comm.addProduct([.])}"</span>></span>
     <span class="tag">&lt;<span class="title">product</span> <span class="attribute">name</span>=<span class="value">"USB drive"</span> <span class="attribute">type</span>=<span class="value">"storage"</span> /></span>
 <span class="tag">&lt;/<span class="title">a:add</span>></span></code></pre>
<p>The third way gets the added node from the server.</p>
<pre><code class="language-xml"> <span class="tag">&lt;<span class="title">a:rpc</span> <span class="attribute">id</span>=<span class="value">"comm"</span> <span class="attribute">protocol</span>=<span class="value">"cgi"</span>></span>
     <span class="tag">&lt;<span class="title">a:method</span>
       <span class="attribute">name</span> = "<span class="attribute">createNewProduct</span>"
       <span class="attribute">url</span>  = "<span class="attribute">http:</span>//<span class="attribute">yourserver.com</span>/<span class="attribute">create_product.php</span>" /></span>
 <span class="tag">&lt;/<span class="title">a:rpc</span>></span>
 <span class="tag">&lt;<span class="title">a:list</span> <span class="attribute">id</span>=<span class="value">"myList"</span> <span class="attribute">width</span>=<span class="value">"200"</span>></span>
     <span class="tag">&lt;<span class="title">a:bindings</span>></span>
         <span class="tag">&lt;<span class="title">a:caption</span> <span class="attribute">match</span>=<span class="value">"[text()]"</span> /></span>
         <span class="tag">&lt;<span class="title">a:value</span> <span class="attribute">match</span>=<span class="value">"[text()]"</span> /></span>
         <span class="tag">&lt;<span class="title">a:each</span> <span class="attribute">match</span>=<span class="value">"[product]"</span> /></span>
     <span class="tag">&lt;/<span class="title">a:bindings</span>></span>
     <span class="tag">&lt;<span class="title">a:add</span> <span class="attribute">get</span>=<span class="value">"{comm.createNewProduct()}"</span> /></span>
     <span class="tag">&lt;<span class="title">a:model</span>></span>
         <span class="tag">&lt;<span class="title">data</span>></span>
             <span class="tag">&lt;<span class="title">product</span>></span>LCD Panel<span class="tag">&lt;/<span class="title">product</span>></span>
         <span class="tag">&lt;/<span class="title">data</span>></span>
     <span class="tag">&lt;/<span class="title">a:model</span>></span>
 <span class="tag">&lt;/<span class="title">a:list</span>></span>
 <span class="tag">&lt;<span class="title">a:button</span> <span class="attribute">onclick</span>=<span class="value">"myList.add()"</span>></span>Add product<span class="tag">&lt;/<span class="title">a:button</span>></span></code></pre>
<h2 id='purging'><a class='heading_anchor' href='#purging'><i class='headerLinkIcon'></i></a>Purging</h2>
<p>Sometimes, it&#39;s necesary to not send the changes directly to the server. For
instance when the application offers a <em>save</em> button. To achieve this
set the <a href="./actiontracker.html#realtime">realtime attribute</a>
of the actiontracker to zfalsez. The save button can call <a href="./actiontracker.html#purge"><code>purge()</code></a>
to have the
actiontracker send the calls.</p>
<pre><code class="language-xml"> <span class="tag">&lt;<span class="title">a:actiontracker</span> <span class="attribute">id</span>=<span class="value">"myAt"</span> <span class="attribute">realtime</span>=<span class="value">"false"</span> /></span>
 <span class="tag">&lt;<span class="title">a:list</span> <span class="attribute">actiontracker</span>=<span class="value">"myAt"</span> /></span>
 <span class="tag">&lt;<span class="title">a:button</span> <span class="attribute">onclick</span>=<span class="value">"myAt.purge()"</span>></span>Save<span class="tag">&lt;/<span class="title">a:button</span>></span></code></pre>
<p>At a certain amount of changes this way will become inefficient and
you&#39;ll want to send the state of your data to the server directly. You can
do that like this:</p>
<pre><code class="language-xml"> <span class="tag">&lt;<span class="title">a:list</span> <span class="attribute">id</span>=<span class="value">"myList"</span> <span class="attribute">width</span>=<span class="value">"200"</span>></span>
     <span class="tag">&lt;<span class="title">a:bindings</span>></span>
         <span class="tag">&lt;<span class="title">a:caption</span> <span class="attribute">match</span>=<span class="value">"[text()]"</span> /></span>
         <span class="tag">&lt;<span class="title">a:value</span> <span class="attribute">match</span>=<span class="value">"[text()]"</span> /></span>
         <span class="tag">&lt;<span class="title">a:each</span> <span class="attribute">match</span>=<span class="value">"[product]"</span> /></span>
     <span class="tag">&lt;/<span class="title">a:bindings</span>></span>
     <span class="tag">&lt;<span class="title">a:model</span>></span>
         <span class="tag">&lt;<span class="title">data</span>></span>
             <span class="tag">&lt;<span class="title">product</span>></span>LCD Panel<span class="tag">&lt;/<span class="title">product</span>></span>
         <span class="tag">&lt;/<span class="title">data</span>></span>
     <span class="tag">&lt;/<span class="title">a:model</span>></span>
     <span class="tag">&lt;<span class="title">a:rename</span> /></span>
     <span class="tag">&lt;<span class="title">a:remove</span> /></span>
 <span class="tag">&lt;/<span class="title">a:list</span>></span>
 <span class="tag">&lt;<span class="title">a:button</span> <span class="attribute">onclick</span>=<span class="value">"myList.getModel().submit('save.php', myList.xmlRoot)"</span>></span>
     Save
 <span class="tag">&lt;/<span class="title">a:button</span>></span></code></pre>
<h2 id='transactions'><a class='heading_anchor' href='#transactions'><i class='headerLinkIcon'></i></a>Transactions</h2>
<p>A transaction is a
set of changes to data which are treated as one change. When one of the
changes in the set fails, all the changes will be cancelled. In the case of
a gui this is happens when a user decides to cancel after
making several changes. A good example are the well known <em>Properties</em>
windows with an ok, cancel and apply button. </p>
<p>When a user edits data, for instance user information, all the changes are
seen as one edit and put on the undo stack as a single action. Thus clicking
undo will undo the entire transaction, not just the last change done by that
user in the edit window. Transaction support both optimistic and pessimistic
locking. </p>
</div></div><div id="disqus_thread"></div></div></div><div class="push"></div><script src="javascripts/ux.js"></script></body></html></div><div id="footer" class="span12 center"><p>&copy; 2012 Cloud9 IDE, Inc. All rights reserved.</p></div></body></html>
